#pragma once

#include <windows.h>

namespace sokira
{
	namespace le
	{

class CMutexImpl
{
	public:
		inline CMutexImpl(bool recursive = false)
		{
			InitializeCriticalSection(&mMutex);
		}

		inline ~CMutexImpl()
		{
			DeleteCriticalSection(&mMutex);
		}

		inline void lock()
		{
			EnterCriticalSection(&mMutex);
		}

		inline void unlock()
		{
			LeaveCriticalSection(&mMutex);
		}

	private:
		CRITICAL_SECTION mMutex;
};

	} // namespace le
} // namespace sokira
